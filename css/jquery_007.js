
(function(g){jQuery.browser={};jQuery.browser.mozilla=/mozilla/.test(navigator.userAgent.toLowerCase())&&!/webkit/.test(navigator.userAgent.toLowerCase());jQuery.browser.webkit=/webkit/.test(navigator.userAgent.toLowerCase());jQuery.browser.opera=/opera/.test(navigator.userAgent.toLowerCase());jQuery.browser.msie=/msie/.test(navigator.userAgent.toLowerCase());if(!Array.prototype.indexOf){Array.prototype.indexOf=function(u){var t=this.length>>>0;var v=Number(arguments[1])||0;v=(v<0)?Math.ceil(v):Math.floor(v);if(v<0){v+=t}for(;v<t;v++){if(v in this&&this[v]===u){return v}}return -1}}var s=[];var h=0;var e=false;var r="";var c="";var p="";var l="";var n=0;var d=0;var a={onComplete:function(){},backgroundColor:"#000",barColor:"#fff",textColor:"#fff",overlayId:"qLoverlay",barHeight:1,showbar:"on",percentage:false,loaderLogo:false,deepSearch:true,completeAnimation:"fade",minimumTime:500,onLoadComplete:function(){if(a.completeAnimation=="grow"){var u=500;var t=new Date();if((t.getTime()-d)<a.minimumTime){u=(a.minimumTime-(t.getTime()-d))}g(p).stop().animate({width:"100%"},u,function(){g(this).animate({top:"0%",width:"100%",height:"100%"},500,function(){g("#"+a.overlayId).fadeOut(500,function(){g(this).remove();a.onComplete()})})})}else{g("#"+a.overlayId).delay(a.minimumTime).fadeOut(700,function(){g("#"+a.overlayId).remove();a.onComplete()})}}};var f=function(){var t=new Date();d=t.getTime();if(s.length>0){i();k()}else{q()}};var i=function(){r=g("<div></div>").appendTo("body").css({display:"none",width:0,height:0,overflow:"hidden"});for(var t=0;s.length>t;t++){g.ajax({url:s[t],type:"HEAD",complete:function(u){if(!e){n++;b(this["url"])}}})}};var b=function(t){var u=g("<img />").attr("src",t).bind("load error",function(){m()}).appendTo(r)};var m=function(){h++;var t=(h/n)*100;g(p).stop().animate({width:t+"%",minWidth:t+"%"},200);if(a.percentage==true){g(l).text(Math.ceil(t)+"%")}if(h==n){q()}};var q=function(){g(r).remove();a.onLoadComplete();e=true};var k=function(){c=g("<div id='"+a.overlayId+"'></div>").css({width:"100%",height:"100%",backgroundColor:a.backgroundColor,backgroundPosition:"fixed",position:"fixed",zIndex:666999,top:0,left:0}).appendTo("body");var t="visible",u=299;difference_two=0;if(a.showbar==="off"){t="hidden";u=199;difference_two=99}p=g("<div id='qLbar'></div>").css({height:a.barHeight+"px",marginTop:"-"+(a.barHeight/2)+"px",backgroundColor:a.barColor,width:"0%",position:"absolute",top:"50%",visibility:t}).appendTo(c);qLLogo=g("<div id='ut-loader-logo'></div>").css({marginTop:"-"+(28+u)+"px"}).appendTo(c);if(a.percentage==true){l=g("<div id='qLpercentage'></div>").text("0%").css({height:"40px",width:"100px",position:"absolute",fontSize:"3em",top:"50%",left:"50%",marginTop:"-"+(59+a.barHeight-difference_two)+"px",textAlign:"center",marginLeft:"-50px",color:a.textColor}).appendTo(c)}if(!s.length){q()}};var o=function(w){var u="";if(g(w).css("background-image")!="none"){var u=g(w).css("background-image")}else{if(typeof(g(w).attr("src"))!="undefined"&&w.nodeName.toLowerCase()=="img"){var u=g(w).attr("src")}}if(u.indexOf("gradient")==-1){u=u.replace(/url\(\"/g,"");u=u.replace(/url\(/g,"");u=u.replace(/\"\)/g,"");u=u.replace(/\)/g,"");var x=u.split(", ");for(var v=0;v<x.length;v++){if(x[v].length>0&&s.indexOf(x[v])==-1&&!x[v].match(/^(data:)/i)){var t="";if(g.browser.msie&&g.browser.version<9){t="?"+Math.floor(Math.random()*3000)}s.push(x[v]+t)}}}};g.fn.queryLoader2=function(t){if(t){g.extend(a,t)}this.each(function(){o(this);if(a.deepSearch==true){g(this).find("*:not(script)").each(function(){o(this)})}});f();return this};var j={init:function(){this.browser=this.searchString(this.dataBrowser)||"An unknown browser";this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"an unknown version";this.OS=this.searchString(this.dataOS)||"an unknown OS"},searchString:function(w){for(var t=0;t<w.length;t++){var u=w[t].string;var v=w[t].prop;this.versionSearchString=w[t].versionSearch||w[t].identity;if(u){if(u.indexOf(w[t].subString)!=-1){return w[t].identity}}else{if(v){return w[t].identity}}}},searchVersion:function(u){var t=u.indexOf(this.versionSearchString);if(t==-1){return}return parseFloat(u.substring(t+this.versionSearchString.length+1))},dataBrowser:[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{prop:window.opera,identity:"Opera",versionSearch:"Version"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}],dataOS:[{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.userAgent,subString:"iPhone",identity:"iPhone/iPod"},{string:navigator.platform,subString:"Linux",identity:"Linux"}]};j.init();jQuery.browser.version=j.version})(jQuery);
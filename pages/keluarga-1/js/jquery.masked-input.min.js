/*! jQuery Masked Input Plugin - v0.1.3 - 6/22/2015
 * Copyright (c) 2015 MCD Partners; Licensed MIT */
!function(a){"use strict";function b(b,c){return this.each(function(){var e=a(this),f=e.data("bs.maskedinput"),g="object"==typeof b&&b;f||e.data("bs.maskedinput",f=new d(this,g)),"string"==typeof b&&f[b](c)})}var c=function(a){this.value=a||"",this.ptr=-1,this.EOI=!this.hasNext()};c.prototype.hasNext=function(){return this.ptr<this.value.length-1},c.prototype.nextMatch=function(a){for(;++this.ptr<this.value.length;)if(this.value[this.ptr].match(a))return this.value[this.ptr];return""},c.prototype.nextChar=function(){return this.nextMatch(/[A-Za-z]/)},c.prototype.nextNumber=function(){return this.nextMatch(/[0-9]/)},c.prototype.nextWild=function(){return this.nextMatch(/[A-Za-z0-9]/)};var d=function(b){this.$element=a(b),this.pattern=String(this.$element.data("masked-input"))||"",this.inputLength=this.$element.val().length,this.allowKey=!0,""!==this.pattern&&this.$element.attr("maxlength",this.pattern.length)};d.VERSION="0.1.3",d.prototype.peekNextToken=function(a){for(var b=(this.$element.val()||"").length,c=b+(a||0),d=this.pattern[c];-1==="X9*/-".indexOf(d)&&c<this.pattern.length;)c++,d=this.pattern[c];return d},d.prototype.format=function(){var a,b=new c(this.$element.val()),d="",e=0,f=this.pattern.length,g=this.getCaretPosition();if(""!==b.value&&this.$element.val().length!==this.inputLength){for(a=this.$element.val().length>this.inputLength?"add":"remove";b.hasNext()&&f>e;){switch(this.pattern[e]){case"X":d+=b.nextChar();break;case"9":d+=b.nextNumber();break;case"*":d+=b.nextWild();break;default:d+=this.pattern[e],null!==g&&"add"==a&&e==g-1&&g++}e++}this.$element.val(d),this.moveCaret(g)}},d.prototype.getCaretPosition=function(){var a=0,b=this.$element[0];if(document.selection){b.focus();var c=document.selection.createRange();c.moveStart("character",-b.value.length),a=c.text.length}else(b.selectionStart||"0"==b.selectionStart)&&(a=b.selectionStart);return a},d.prototype.moveCaret=function(a){var b=this.$element[0];if(null!==a&&null!==b)if(b.createTextRange){var c=b.createTextRange();c.move("character",a),c.select()}else b.selectionStart?(b.focus(),b.setSelectionRange(a,a)):b.focus()},d.prototype.checkKeyAgainstNextToken=function(a,b,c){switch(this.peekNextToken(c)){case"X":return 65>a||a>90;case"9":return(b||48>a||a>57)&&(96>a||a>105);case"/":return 191===a||111===a?!1:this.checkKeyAgainstNextToken(a,b,1);case"-":return 173===a||109===a||189===a?!1:this.checkKeyAgainstNextToken(a,b,1);case"*":return(b||48>a||a>57)&&(96>a||a>105)&&(65>a||a>90);default:return!0}},d.prototype.keydown=function(b){if(this.inputLength=this.$element.val().length,!(b.ctrlKey||b.altKey||b.metaKey||b.keyCode<32||-1!==a.inArray(b.keyCode,[46,8,9,27,13,110])||65==b.keyCode&&b.ctrlKey===!0||b.keyCode>=35&&b.keyCode<=39)){if(!this.allowKey)return b.preventDefault(),void b.stopImmediatePropagation();this.allowKey=!1,this.checkKeyAgainstNextToken(b.keyCode,b.shiftKey,0)&&(b.preventDefault(),b.stopImmediatePropagation())}},d.prototype.keyup=function(a){this.allowKey=!0,this.format()};var e=a.fn.maskedinput;a.fn.maskedinput=b,a.fn.maskedinput.Constructor=d,a.fn.maskedinput.noConflict=function(){return a.fn.maskedinput=e,this},a(document).on("keydown.bs.maskedinput.data-api","[data-masked-input]",function(c){var d=a(c.target);b.call(d,"keydown",c)}),a(document).on("keyup.bs.maskedinput.data-api","[data-masked-input]",function(c){var d=a(c.target);b.call(d,"keyup")}),a(window).on("load.bs.maskedinput.data-api",function(){a("[data-masked-input]").each(function(){var c=a(this);b.call(c,c.data())})})}(jQuery);
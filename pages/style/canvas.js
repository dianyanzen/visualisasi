
(function(h){var m,k,j,f,p,r,t,n=true;a();b();l();function a(){m=window.innerWidth;k=window.innerHeight;t={x:m/2,y:k/2};f=document.getElementById("ut-animation-canvas");j=f.getAttribute("data-strokecolor");f.width=m;f.height=k;p=f.getContext("2d");r=[];for(var F=0;F<m;F=F+m/20){for(var D=0;D<k;D=D+k/20){var G=F+Math.random()*m/20;var E=D+Math.random()*k/20;var u={x:G,originX:G,y:E,originY:E};r.push(u)}}for(var A=0;A<r.length;A++){var v=[];var I=r[A];for(var z=0;z<r.length;z++){var H=r[z];if(!(I==H)){var C=false;for(var w=0;w<5;w++){if(!C){if(v[w]==undefined){v[w]=H;C=true}}}for(var w=0;w<5;w++){if(!C){if(d(I,H)<d(I,v[w])){v[w]=H;C=true}}}}}I.closest=v}for(var A in r){var B=new o(r[A],2+Math.random()*2,"rgba(255,255,255,0.3)");r[A].circle=B}}function l(){if(!("ontouchstart" in window)){window.addEventListener("mousemove",c)}window.addEventListener("scroll",q);window.addEventListener("resize",s)}function c(v){var u=posy=0;if(v.pageX||v.pageY){u=v.pageX;posy=v.pageY}else{if(v.clientX||v.clientY){u=v.clientX+document.body.scrollLeft+document.documentElement.scrollLeft;posy=v.clientY+document.body.scrollTop+document.documentElement.scrollTop}}t.x=u;t.y=posy}function q(){if(document.body.scrollTop>k){n=false}else{n=true}}function s(){m=window.innerWidth;k=window.innerHeight;f.width=m;f.height=k}function b(){i();for(var u in r){e(r[u])}}function i(){if(n){p.clearRect(0,0,m,k);for(var u in r){if(Math.abs(d(t,r[u]))<4000){r[u].active=0.3;r[u].circle.active=0.6}else{if(Math.abs(d(t,r[u]))<20000){r[u].active=0.1;r[u].circle.active=0.3}else{if(Math.abs(d(t,r[u]))<40000){r[u].active=0.02;r[u].circle.active=0.1}else{r[u].active=0;r[u].circle.active=0}}}g(r[u]);r[u].circle.draw()}}requestAnimationFrame(i)}function e(u){TweenLite.to(u,1+1*Math.random(),{x:u.originX-50+Math.random()*100,y:u.originY-50+Math.random()*100,ease:Circ.easeInOut,onComplete:function(){e(u)}})}function g(v){if(!v.active){return}for(var u in v.closest){p.beginPath();p.moveTo(v.x,v.y);p.lineTo(v.closest[u].x,v.closest[u].y);p.strokeStyle="rgba("+j+","+v.active+")";p.stroke()}}function o(x,u,v){var w=this;(function(){w.pos=x||null;w.radius=u||null;w.color=v||null})();this.draw=function(){if(!w.active){return}p.beginPath();p.arc(w.pos.x,w.pos.y,w.radius,0,2*Math.PI,false);p.fillStyle="rgba("+j+","+w.active+")";p.fill()}}function d(v,u){return Math.pow(v.x-u.x,2)+Math.pow(v.y-u.y,2)}})(jQuery);